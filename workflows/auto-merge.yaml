name: 'Set auto merge'
'on':
  pull_request_review:
    types: [submitted]

set-auto-merge:
  if: ${{ github.event.review.state == 'APPROVED' && github.event.review.pull_request.user.login == 'dependabot[bot]' }}
  runs-on: ubuntu-latest
  steps:
    - run: gh pr merge ${{ github.event.review.pull_request.issue_url }} --auto
